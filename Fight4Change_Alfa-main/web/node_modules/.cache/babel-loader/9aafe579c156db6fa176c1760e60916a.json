{"ast":null,"code":"import { forwardRef, createElement, useRef, useEffect } from 'react';\nimport { Portal } from '@reach/portal';\nimport { useRect } from '@reach/rect';\nimport { getOwnerDocument } from '@reach/utils/owner-document';\nimport { useComposedRefs } from '@reach/utils/compose-refs';\nimport tabbable from 'tabbable';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar _excluded = [\"as\", \"targetRef\", \"position\", \"unstable_observableRefs\"]; ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * Popover\r\n */\n\nvar Popover = /*#__PURE__*/forwardRef(function Popover(props, ref) {\n  return /*#__PURE__*/createElement(Portal, null, /*#__PURE__*/createElement(PopoverImpl, _extends({\n    ref: ref\n  }, props)));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  Popover.displayName = \"Popover\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * PopoverImpl\r\n *\r\n * Popover is conditionally rendered so we can't start measuring until it shows\r\n * up, so useRect needs to live down here not up in Popover\r\n */\n\n\nvar PopoverImpl = /*#__PURE__*/forwardRef(function PopoverImpl(_ref, forwardedRef) {\n  var _ref$as = _ref.as,\n      Comp = _ref$as === void 0 ? \"div\" : _ref$as,\n      targetRef = _ref.targetRef,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? positionDefault : _ref$position,\n      _ref$unstable_observa = _ref.unstable_observableRefs,\n      unstable_observableRefs = _ref$unstable_observa === void 0 ? [] : _ref$unstable_observa,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var popoverRef = useRef(null);\n  var popoverRect = useRect(popoverRef, {\n    observe: !props.hidden\n  });\n  var targetRect = useRect(targetRef, {\n    observe: !props.hidden\n  });\n  var ref = useComposedRefs(popoverRef, forwardedRef);\n  useSimulateTabNavigationForReactTree(targetRef, popoverRef);\n  return /*#__PURE__*/createElement(Comp, _extends({\n    \"data-reach-popover\": \"\",\n    ref: ref\n  }, props, {\n    style: _extends({\n      position: \"absolute\"\n    }, getStyles.apply(void 0, [position, targetRect, popoverRect].concat(unstable_observableRefs)), props.style)\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  PopoverImpl.displayName = \"PopoverImpl\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n\nfunction getStyles(position, targetRect, popoverRect) {\n  for (var _len = arguments.length, unstable_observableRefs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    unstable_observableRefs[_key - 3] = arguments[_key];\n  }\n\n  return popoverRect ? position.apply(void 0, [targetRect, popoverRect].concat(unstable_observableRefs.map(function (ref) {\n    return ref.current;\n  }))) : {\n    visibility: \"hidden\"\n  };\n}\n\nfunction getTopPosition(targetRect, popoverRect, isDirectionUp) {\n  return {\n    top: isDirectionUp ? targetRect.top - popoverRect.height + window.pageYOffset + \"px\" : targetRect.top + targetRect.height + window.pageYOffset + \"px\"\n  };\n}\n\nvar positionDefault = function positionDefault(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions = getCollisions(targetRect, popoverRect),\n      directionRight = _getCollisions.directionRight,\n      directionUp = _getCollisions.directionUp;\n\n  return _extends({\n    left: directionRight ? targetRect.right - popoverRect.width + window.pageXOffset + \"px\" : targetRect.left + window.pageXOffset + \"px\"\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nvar positionRight = function positionRight(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions2 = getCollisions(targetRect, popoverRect),\n      directionLeft = _getCollisions2.directionLeft,\n      directionUp = _getCollisions2.directionUp;\n\n  return _extends({\n    left: directionLeft ? targetRect.left + window.pageXOffset + \"px\" : targetRect.right - popoverRect.width + window.pageXOffset + \"px\"\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nvar positionMatchWidth = function positionMatchWidth(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions3 = getCollisions(targetRect, popoverRect),\n      directionUp = _getCollisions3.directionUp;\n\n  return _extends({\n    width: targetRect.width,\n    left: targetRect.left\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nfunction getCollisions(targetRect, popoverRect, offsetLeft, offsetBottom) {\n  if (offsetLeft === void 0) {\n    offsetLeft = 0;\n  }\n\n  if (offsetBottom === void 0) {\n    offsetBottom = 0;\n  }\n\n  var collisions = {\n    top: targetRect.top - popoverRect.height < 0,\n    right: window.innerWidth < targetRect.left + popoverRect.width - offsetLeft,\n    bottom: window.innerHeight < targetRect.bottom + popoverRect.height - offsetBottom,\n    left: targetRect.left + targetRect.width - popoverRect.width < 0\n  };\n  var directionRight = collisions.right && !collisions.left;\n  var directionLeft = collisions.left && !collisions.right;\n  var directionUp = collisions.bottom && !collisions.top;\n  var directionDown = collisions.top && !collisions.bottom;\n  return {\n    directionRight: directionRight,\n    directionLeft: directionLeft,\n    directionUp: directionUp,\n    directionDown: directionDown\n  };\n} // Heads up, my jQuery past haunts this function. This hook scopes the tab\n// order to the React element tree, instead of the DOM tree. This way, when the\n// user navigates with tab from the targetRef, the tab order moves into the\n// popup, and then out of the popup back to the rest of the document.\n// (We call targetRef, triggerRef inside this function to avoid confusion with\n// event.target)\n\n\nfunction useSimulateTabNavigationForReactTree(triggerRef, popoverRef) {\n  var ownerDocument = getOwnerDocument(triggerRef.current);\n\n  function handleKeyDown(event) {\n    if (event.key === \"Tab\" && popoverRef.current && tabbable(popoverRef.current).length === 0) {\n      return;\n    }\n\n    if (event.key === \"Tab\" && event.shiftKey) {\n      if (shiftTabbedFromElementAfterTrigger(event)) {\n        focusLastTabbableInPopover(event);\n      } else if (shiftTabbedOutOfPopover(event)) {\n        focusTriggerRef(event);\n      } else if (shiftTabbedToBrowserChrome(event)) {\n        disableTabbablesInPopover();\n      }\n    } else if (event.key === \"Tab\") {\n      if (tabbedFromTriggerToPopover()) {\n        focusFirstPopoverTabbable(event);\n      } else if (tabbedOutOfPopover()) {\n        focusTabbableAfterTrigger(event);\n      } else if (tabbedToBrowserChrome(event)) {\n        disableTabbablesInPopover();\n      }\n    }\n  }\n\n  useEffect(function () {\n    ownerDocument.addEventListener(\"keydown\", handleKeyDown);\n    return function () {\n      ownerDocument.removeEventListener(\"keydown\", handleKeyDown);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function getElementAfterTrigger() {\n    var elements = tabbable(ownerDocument);\n    var targetIndex = elements && triggerRef.current ? elements.indexOf(triggerRef.current) : -1;\n    var elementAfterTrigger = elements && elements[targetIndex + 1];\n    return popoverRef.current && popoverRef.current.contains(elementAfterTrigger || null) ? false : elementAfterTrigger;\n  }\n\n  function tabbedFromTriggerToPopover() {\n    return triggerRef.current ? triggerRef.current === ownerDocument.activeElement : false;\n  }\n\n  function focusFirstPopoverTabbable(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements && elements[0]) {\n      event.preventDefault();\n      elements[0].focus();\n    }\n  }\n\n  function tabbedOutOfPopover() {\n    var inPopover = popoverRef.current ? popoverRef.current.contains(ownerDocument.activeElement || null) : false;\n\n    if (inPopover) {\n      var elements = popoverRef.current && tabbable(popoverRef.current);\n      return Boolean(elements && elements[elements.length - 1] === ownerDocument.activeElement);\n    }\n\n    return false;\n  }\n\n  function focusTabbableAfterTrigger(event) {\n    var elementAfterTrigger = getElementAfterTrigger();\n\n    if (elementAfterTrigger) {\n      event.preventDefault();\n      elementAfterTrigger.focus();\n    }\n  }\n\n  function shiftTabbedFromElementAfterTrigger(event) {\n    if (!event.shiftKey) return;\n    var elementAfterTrigger = getElementAfterTrigger();\n    return event.target === elementAfterTrigger;\n  }\n\n  function focusLastTabbableInPopover(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n    var last = elements && elements[elements.length - 1];\n\n    if (last) {\n      event.preventDefault();\n      last.focus();\n    }\n  }\n\n  function shiftTabbedOutOfPopover(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements) {\n      return elements.length === 0 ? false : event.target === elements[0];\n    }\n\n    return false;\n  }\n\n  function focusTriggerRef(event) {\n    var _triggerRef$current;\n\n    event.preventDefault();\n    (_triggerRef$current = triggerRef.current) == null ? void 0 : _triggerRef$current.focus();\n  }\n\n  function tabbedToBrowserChrome(event) {\n    var elements = popoverRef.current ? tabbable(ownerDocument).filter(function (element) {\n      return !popoverRef.current.contains(element);\n    }) : null;\n    return elements ? event.target === elements[elements.length - 1] : false;\n  }\n\n  function shiftTabbedToBrowserChrome(event) {\n    // we're assuming the popover will never contain the first tabbable\n    // element, and it better not, because the trigger needs to be tabbable!\n    return event.target === tabbable(ownerDocument)[0];\n  }\n\n  var restoreTabIndexTuplés = [];\n\n  function disableTabbablesInPopover() {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements) {\n      elements.forEach(function (element) {\n        restoreTabIndexTuplés.push([element, element.tabIndex]);\n        element.tabIndex = -1;\n      });\n      ownerDocument.addEventListener(\"focusin\", enableTabbablesInPopover);\n    }\n  }\n\n  function enableTabbablesInPopover() {\n    ownerDocument.removeEventListener(\"focusin\", enableTabbablesInPopover);\n    restoreTabIndexTuplés.forEach(function (_ref2) {\n      var element = _ref2[0],\n          tabIndex = _ref2[1];\n      element.tabIndex = tabIndex;\n    });\n  }\n} ////////////////////////////////////////////////////////////////////////////////\n\n\nexport default Popover;\nexport { Popover, getCollisions, positionDefault, positionMatchWidth, positionRight };","map":{"version":3,"sources":["C:/Users/mifer/Desktop/Fight4Change_Alfa/web/node_modules/@reach/popover/dist/reach-popover.esm.js"],"names":["forwardRef","createElement","useRef","useEffect","Portal","useRect","getOwnerDocument","useComposedRefs","tabbable","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","Object","keys","key","i","length","indexOf","_extends","assign","arguments","prototype","hasOwnProperty","call","apply","_excluded","Popover","props","ref","PopoverImpl","process","env","NODE_ENV","displayName","_ref","forwardedRef","_ref$as","as","Comp","targetRef","_ref$position","position","positionDefault","_ref$unstable_observa","unstable_observableRefs","popoverRef","popoverRect","observe","hidden","targetRect","useSimulateTabNavigationForReactTree","style","getStyles","concat","_len","Array","_key","map","current","visibility","getTopPosition","isDirectionUp","top","height","window","pageYOffset","_getCollisions","getCollisions","directionRight","directionUp","left","right","width","pageXOffset","positionRight","_getCollisions2","directionLeft","positionMatchWidth","_getCollisions3","offsetLeft","offsetBottom","collisions","innerWidth","bottom","innerHeight","directionDown","triggerRef","ownerDocument","handleKeyDown","event","shiftKey","shiftTabbedFromElementAfterTrigger","focusLastTabbableInPopover","shiftTabbedOutOfPopover","focusTriggerRef","shiftTabbedToBrowserChrome","disableTabbablesInPopover","tabbedFromTriggerToPopover","focusFirstPopoverTabbable","tabbedOutOfPopover","focusTabbableAfterTrigger","tabbedToBrowserChrome","addEventListener","removeEventListener","getElementAfterTrigger","elements","targetIndex","elementAfterTrigger","contains","activeElement","preventDefault","focus","inPopover","Boolean","last","_triggerRef$current","filter","element","restoreTabIndexTuplés","forEach","push","tabIndex","enableTabbablesInPopover","_ref2"],"mappings":"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","sourcesContent":["import { forwardRef, createElement, useRef, useEffect } from 'react';\r\nimport { Portal } from '@reach/portal';\r\nimport { useRect } from '@reach/rect';\r\nimport { getOwnerDocument } from '@reach/utils/owner-document';\r\nimport { useComposedRefs } from '@reach/utils/compose-refs';\r\nimport tabbable from 'tabbable';\r\n\r\nfunction _objectWithoutPropertiesLoose(source, excluded) {\r\n  if (source == null) return {};\r\n  var target = {};\r\n  var sourceKeys = Object.keys(source);\r\n  var key, i;\r\n\r\n  for (i = 0; i < sourceKeys.length; i++) {\r\n    key = sourceKeys[i];\r\n    if (excluded.indexOf(key) >= 0) continue;\r\n    target[key] = source[key];\r\n  }\r\n\r\n  return target;\r\n}\r\n\r\nfunction _extends() {\r\n  _extends = Object.assign || function (target) {\r\n    for (var i = 1; i < arguments.length; i++) {\r\n      var source = arguments[i];\r\n\r\n      for (var key in source) {\r\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\r\n          target[key] = source[key];\r\n        }\r\n      }\r\n    }\r\n\r\n    return target;\r\n  };\r\n\r\n  return _extends.apply(this, arguments);\r\n}\r\n\r\nvar _excluded = [\"as\", \"targetRef\", \"position\", \"unstable_observableRefs\"];\r\n////////////////////////////////////////////////////////////////////////////////\r\n\r\n/**\r\n * Popover\r\n */\r\nvar Popover = /*#__PURE__*/forwardRef(function Popover(props, ref) {\r\n  return /*#__PURE__*/createElement(Portal, null, /*#__PURE__*/createElement(PopoverImpl, _extends({\r\n    ref: ref\r\n  }, props)));\r\n});\r\n\r\nif (process.env.NODE_ENV !== \"production\") {\r\n  Popover.displayName = \"Popover\";\r\n} ////////////////////////////////////////////////////////////////////////////////\r\n\r\n/**\r\n * PopoverImpl\r\n *\r\n * Popover is conditionally rendered so we can't start measuring until it shows\r\n * up, so useRect needs to live down here not up in Popover\r\n */\r\n\r\n\r\nvar PopoverImpl = /*#__PURE__*/forwardRef(function PopoverImpl(_ref, forwardedRef) {\r\n  var _ref$as = _ref.as,\r\n      Comp = _ref$as === void 0 ? \"div\" : _ref$as,\r\n      targetRef = _ref.targetRef,\r\n      _ref$position = _ref.position,\r\n      position = _ref$position === void 0 ? positionDefault : _ref$position,\r\n      _ref$unstable_observa = _ref.unstable_observableRefs,\r\n      unstable_observableRefs = _ref$unstable_observa === void 0 ? [] : _ref$unstable_observa,\r\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\r\n\r\n  var popoverRef = useRef(null);\r\n  var popoverRect = useRect(popoverRef, {\r\n    observe: !props.hidden\r\n  });\r\n  var targetRect = useRect(targetRef, {\r\n    observe: !props.hidden\r\n  });\r\n  var ref = useComposedRefs(popoverRef, forwardedRef);\r\n  useSimulateTabNavigationForReactTree(targetRef, popoverRef);\r\n  return /*#__PURE__*/createElement(Comp, _extends({\r\n    \"data-reach-popover\": \"\",\r\n    ref: ref\r\n  }, props, {\r\n    style: _extends({\r\n      position: \"absolute\"\r\n    }, getStyles.apply(void 0, [position, targetRect, popoverRect].concat(unstable_observableRefs)), props.style)\r\n  }));\r\n});\r\n\r\nif (process.env.NODE_ENV !== \"production\") {\r\n  PopoverImpl.displayName = \"PopoverImpl\";\r\n} ////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\nfunction getStyles(position, targetRect, popoverRect) {\r\n  for (var _len = arguments.length, unstable_observableRefs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\r\n    unstable_observableRefs[_key - 3] = arguments[_key];\r\n  }\r\n\r\n  return popoverRect ? position.apply(void 0, [targetRect, popoverRect].concat(unstable_observableRefs.map(function (ref) {\r\n    return ref.current;\r\n  }))) : {\r\n    visibility: \"hidden\"\r\n  };\r\n}\r\n\r\nfunction getTopPosition(targetRect, popoverRect, isDirectionUp) {\r\n  return {\r\n    top: isDirectionUp ? targetRect.top - popoverRect.height + window.pageYOffset + \"px\" : targetRect.top + targetRect.height + window.pageYOffset + \"px\"\r\n  };\r\n}\r\n\r\nvar positionDefault = function positionDefault(targetRect, popoverRect) {\r\n  if (!targetRect || !popoverRect) {\r\n    return {};\r\n  }\r\n\r\n  var _getCollisions = getCollisions(targetRect, popoverRect),\r\n      directionRight = _getCollisions.directionRight,\r\n      directionUp = _getCollisions.directionUp;\r\n\r\n  return _extends({\r\n    left: directionRight ? targetRect.right - popoverRect.width + window.pageXOffset + \"px\" : targetRect.left + window.pageXOffset + \"px\"\r\n  }, getTopPosition(targetRect, popoverRect, directionUp));\r\n};\r\n\r\nvar positionRight = function positionRight(targetRect, popoverRect) {\r\n  if (!targetRect || !popoverRect) {\r\n    return {};\r\n  }\r\n\r\n  var _getCollisions2 = getCollisions(targetRect, popoverRect),\r\n      directionLeft = _getCollisions2.directionLeft,\r\n      directionUp = _getCollisions2.directionUp;\r\n\r\n  return _extends({\r\n    left: directionLeft ? targetRect.left + window.pageXOffset + \"px\" : targetRect.right - popoverRect.width + window.pageXOffset + \"px\"\r\n  }, getTopPosition(targetRect, popoverRect, directionUp));\r\n};\r\n\r\nvar positionMatchWidth = function positionMatchWidth(targetRect, popoverRect) {\r\n  if (!targetRect || !popoverRect) {\r\n    return {};\r\n  }\r\n\r\n  var _getCollisions3 = getCollisions(targetRect, popoverRect),\r\n      directionUp = _getCollisions3.directionUp;\r\n\r\n  return _extends({\r\n    width: targetRect.width,\r\n    left: targetRect.left\r\n  }, getTopPosition(targetRect, popoverRect, directionUp));\r\n};\r\n\r\nfunction getCollisions(targetRect, popoverRect, offsetLeft, offsetBottom) {\r\n  if (offsetLeft === void 0) {\r\n    offsetLeft = 0;\r\n  }\r\n\r\n  if (offsetBottom === void 0) {\r\n    offsetBottom = 0;\r\n  }\r\n\r\n  var collisions = {\r\n    top: targetRect.top - popoverRect.height < 0,\r\n    right: window.innerWidth < targetRect.left + popoverRect.width - offsetLeft,\r\n    bottom: window.innerHeight < targetRect.bottom + popoverRect.height - offsetBottom,\r\n    left: targetRect.left + targetRect.width - popoverRect.width < 0\r\n  };\r\n  var directionRight = collisions.right && !collisions.left;\r\n  var directionLeft = collisions.left && !collisions.right;\r\n  var directionUp = collisions.bottom && !collisions.top;\r\n  var directionDown = collisions.top && !collisions.bottom;\r\n  return {\r\n    directionRight: directionRight,\r\n    directionLeft: directionLeft,\r\n    directionUp: directionUp,\r\n    directionDown: directionDown\r\n  };\r\n} // Heads up, my jQuery past haunts this function. This hook scopes the tab\r\n// order to the React element tree, instead of the DOM tree. This way, when the\r\n// user navigates with tab from the targetRef, the tab order moves into the\r\n// popup, and then out of the popup back to the rest of the document.\r\n// (We call targetRef, triggerRef inside this function to avoid confusion with\r\n// event.target)\r\n\r\n\r\nfunction useSimulateTabNavigationForReactTree(triggerRef, popoverRef) {\r\n  var ownerDocument = getOwnerDocument(triggerRef.current);\r\n\r\n  function handleKeyDown(event) {\r\n    if (event.key === \"Tab\" && popoverRef.current && tabbable(popoverRef.current).length === 0) {\r\n      return;\r\n    }\r\n\r\n    if (event.key === \"Tab\" && event.shiftKey) {\r\n      if (shiftTabbedFromElementAfterTrigger(event)) {\r\n        focusLastTabbableInPopover(event);\r\n      } else if (shiftTabbedOutOfPopover(event)) {\r\n        focusTriggerRef(event);\r\n      } else if (shiftTabbedToBrowserChrome(event)) {\r\n        disableTabbablesInPopover();\r\n      }\r\n    } else if (event.key === \"Tab\") {\r\n      if (tabbedFromTriggerToPopover()) {\r\n        focusFirstPopoverTabbable(event);\r\n      } else if (tabbedOutOfPopover()) {\r\n        focusTabbableAfterTrigger(event);\r\n      } else if (tabbedToBrowserChrome(event)) {\r\n        disableTabbablesInPopover();\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(function () {\r\n    ownerDocument.addEventListener(\"keydown\", handleKeyDown);\r\n    return function () {\r\n      ownerDocument.removeEventListener(\"keydown\", handleKeyDown);\r\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  function getElementAfterTrigger() {\r\n    var elements = tabbable(ownerDocument);\r\n    var targetIndex = elements && triggerRef.current ? elements.indexOf(triggerRef.current) : -1;\r\n    var elementAfterTrigger = elements && elements[targetIndex + 1];\r\n    return popoverRef.current && popoverRef.current.contains(elementAfterTrigger || null) ? false : elementAfterTrigger;\r\n  }\r\n\r\n  function tabbedFromTriggerToPopover() {\r\n    return triggerRef.current ? triggerRef.current === ownerDocument.activeElement : false;\r\n  }\r\n\r\n  function focusFirstPopoverTabbable(event) {\r\n    var elements = popoverRef.current && tabbable(popoverRef.current);\r\n\r\n    if (elements && elements[0]) {\r\n      event.preventDefault();\r\n      elements[0].focus();\r\n    }\r\n  }\r\n\r\n  function tabbedOutOfPopover() {\r\n    var inPopover = popoverRef.current ? popoverRef.current.contains(ownerDocument.activeElement || null) : false;\r\n\r\n    if (inPopover) {\r\n      var elements = popoverRef.current && tabbable(popoverRef.current);\r\n      return Boolean(elements && elements[elements.length - 1] === ownerDocument.activeElement);\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  function focusTabbableAfterTrigger(event) {\r\n    var elementAfterTrigger = getElementAfterTrigger();\r\n\r\n    if (elementAfterTrigger) {\r\n      event.preventDefault();\r\n      elementAfterTrigger.focus();\r\n    }\r\n  }\r\n\r\n  function shiftTabbedFromElementAfterTrigger(event) {\r\n    if (!event.shiftKey) return;\r\n    var elementAfterTrigger = getElementAfterTrigger();\r\n    return event.target === elementAfterTrigger;\r\n  }\r\n\r\n  function focusLastTabbableInPopover(event) {\r\n    var elements = popoverRef.current && tabbable(popoverRef.current);\r\n    var last = elements && elements[elements.length - 1];\r\n\r\n    if (last) {\r\n      event.preventDefault();\r\n      last.focus();\r\n    }\r\n  }\r\n\r\n  function shiftTabbedOutOfPopover(event) {\r\n    var elements = popoverRef.current && tabbable(popoverRef.current);\r\n\r\n    if (elements) {\r\n      return elements.length === 0 ? false : event.target === elements[0];\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  function focusTriggerRef(event) {\r\n    var _triggerRef$current;\r\n\r\n    event.preventDefault();\r\n    (_triggerRef$current = triggerRef.current) == null ? void 0 : _triggerRef$current.focus();\r\n  }\r\n\r\n  function tabbedToBrowserChrome(event) {\r\n    var elements = popoverRef.current ? tabbable(ownerDocument).filter(function (element) {\r\n      return !popoverRef.current.contains(element);\r\n    }) : null;\r\n    return elements ? event.target === elements[elements.length - 1] : false;\r\n  }\r\n\r\n  function shiftTabbedToBrowserChrome(event) {\r\n    // we're assuming the popover will never contain the first tabbable\r\n    // element, and it better not, because the trigger needs to be tabbable!\r\n    return event.target === tabbable(ownerDocument)[0];\r\n  }\r\n\r\n  var restoreTabIndexTuplés = [];\r\n\r\n  function disableTabbablesInPopover() {\r\n    var elements = popoverRef.current && tabbable(popoverRef.current);\r\n\r\n    if (elements) {\r\n      elements.forEach(function (element) {\r\n        restoreTabIndexTuplés.push([element, element.tabIndex]);\r\n        element.tabIndex = -1;\r\n      });\r\n      ownerDocument.addEventListener(\"focusin\", enableTabbablesInPopover);\r\n    }\r\n  }\r\n\r\n  function enableTabbablesInPopover() {\r\n    ownerDocument.removeEventListener(\"focusin\", enableTabbablesInPopover);\r\n    restoreTabIndexTuplés.forEach(function (_ref2) {\r\n      var element = _ref2[0],\r\n          tabIndex = _ref2[1];\r\n      element.tabIndex = tabIndex;\r\n    });\r\n  }\r\n} ////////////////////////////////////////////////////////////////////////////////\r\n\r\nexport default Popover;\r\nexport { Popover, getCollisions, positionDefault, positionMatchWidth, positionRight };\r\n"]},"metadata":{},"sourceType":"module"}