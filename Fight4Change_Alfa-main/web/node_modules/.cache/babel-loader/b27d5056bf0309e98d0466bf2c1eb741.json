{"ast":null,"code":"import _objectSpread from\"/Users/goncalomoura/Documents/verFinal/Fight4Change_Alfa/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/goncalomoura/Documents/verFinal/Fight4Change_Alfa/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/goncalomoura/Documents/verFinal/Fight4Change_Alfa/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/Users/goncalomoura/Documents/verFinal/Fight4Change_Alfa/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/goncalomoura/Documents/verFinal/Fight4Change_Alfa/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*global google*/import React,{useState}from'react';import\"./map.css\";import{MDBtn,MBtn}from'./Button';import{GoogleMap,Marker,InfoWindow,DirectionsRenderer}from\"@react-google-maps/api\";import usePlacesAutocomplete,{getGeocode,getLatLng}from\"use-places-autocomplete\";import{Combobox,ComboboxInput,ComboboxPopover,ComboboxList,ComboboxOption}from\"@reach/combobox\";import\"@reach/combobox/styles.css\";import{LocateMDBtn,LocateMBtn}from'./LocateButton';import{useHistory}from\"react-router-dom\";import{Button}from'@material-ui/core';import Modal from'react-bootstrap/Modal';import{BtnLinkRedirect,BtnRedirect}from'./redirect';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var mapContainerStyle={height:\"80vh\",width:\"50%\"};var center={lat:38.660783,lng:-9.205681};function CreateEvents(){var history=useHistory();var _useState=useState(),_useState2=_slicedToArray(_useState,2),eventsName=_useState2[0],setEventsName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),date=_useState4[0],setDate=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),time=_useState6[0],setTime=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),origin=_useState8[0],setOrigin=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),description=_useState10[0],setDescription=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),show=_useState12[0],setShow=_useState12[1];var handleClose=function handleClose(){setShow(false);var url=\"/home\";history.push(url);};var handleOpen=function handleOpen(){console.log(\"entrei aqui\");setShow(true);console.log(show);};var _React$useState=React.useState({directions:null}),_React$useState2=_slicedToArray(_React$useState,2),state=_React$useState2[0],setState=_React$useState2[1];/*\n  const handleChange = React.useCallback((e) => {\n    const value = e.target.value;\n    setState({\n        [e.target.name]: value\n    });\n    console.log(e.target.value)\n  })*/var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),markers=_useState14[0],setMarkers=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),selected=_useState16[0],setSelected=_useState16[1];var coordinates=markers.map(function(p){return{lat:p.lat,lng:p.lng};});var coord=JSON.stringify(coordinates);var handleContinue=function handleContinue(e){e.preventDefault();var request={method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json','Authorization':'Bearer '+localStorage.getItem(\"user\")},body:JSON.stringify({eventsName:eventsName,date:date,origin:origin,description:description,time:time,markers:coord})};fetch('https://apdc-fasebeta.appspot.com/createEvent',request).then(function(response){console.log(request.headers);console.log(\"mudei1\");console.log(request.body);console.log(\"response\"+response);if(response.ok){console.log(\"Event successfully created alterado2!\");setShow(true);console.log(\"no continue: \"+show);}else{console.log(\"Something went wrong.\");//  this.setShow(false);\nconsole.log(show);var url=\"/createEvent\";history.push(url);}}).catch(function(error){return console.error('Error',error);});};var service=new google.maps.DirectionsService();var onMapClick=React.useCallback(function(e){setMarkers(function(current){return[].concat(_toConsumableArray(current),[{lat:e.latLng.lat(),lng:e.latLng.lng()}]);});},[]);var onMarkerClick=React.useCallback(function(e){setSelected(function(current){return[].concat(_toConsumableArray(current),[{lat:e.latLng.lat(),lng:e.latLng.lng(),active:true}]);});},[]);var mapRef=React.useRef();var onMapLoad=React.useCallback(function(map){mapRef.current=map;},[]);var panTo=React.useCallback(function(_ref){var lat=_ref.lat,lng=_ref.lng;mapRef.current.panTo({lat:lat,lng:lng});mapRef.current.setZoom(20);},[]);var _usePlacesAutocomplet=usePlacesAutocomplete({requestOptions:{location:{lat:function lat(){return 38.660783;},lng:function lng(){return-9.205681;}},radius:100*1000}}),ready=_usePlacesAutocomplet.ready,value=_usePlacesAutocomplet.value,_usePlacesAutocomplet2=_usePlacesAutocomplet.suggestions,status=_usePlacesAutocomplet2.status,data=_usePlacesAutocomplet2.data,setValue=_usePlacesAutocomplet.setValue,clearSuggestions=_usePlacesAutocomplet.clearSuggestions;var handleInput=function handleInput(e){setValue(e.target.value);};var handleSelect=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(address){var results,_yield$getLatLng,lat,lng,_waypoints,_origin,destination;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setValue(address,false);clearSuggestions();_context.prev=2;_context.next=5;return getGeocode({address:address});case 5:results=_context.sent;_context.next=8;return getLatLng(results[0]);case 8:_yield$getLatLng=_context.sent;lat=_yield$getLatLng.lat;lng=_yield$getLatLng.lng;panTo({lat:lat,lng:lng});setMarkers(function(current){return[].concat(_toConsumableArray(current),[{lat:lat,lng:lng}]);});_waypoints=markers.map(function(p){return{location:{lat:p.lat,lng:p.lng},stopover:true};});if(_waypoints.length>=2){_origin=_waypoints[0].location;destination=_waypoints.pop().location;service.route({origin:_origin,destination:destination,travelMode:google.maps.TravelMode.WALKING,waypoints:_waypoints},function(result,status){if(status===google.maps.DirectionsStatus.OK){setState({directions:result});}else{console.error(\"error fetching directions \".concat(result));}});}_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](2);console.log(\"Error: \",_context.t0);case 20:case\"end\":return _context.stop();}}},_callee,null,[[2,17]]);}));return function handleSelect(_x){return _ref2.apply(this,arguments);};}();var onMarkerDragEnd=function onMarkerDragEnd(e,index){markers[index]=_objectSpread(_objectSpread({},markers[index]),{},{lat:e.latLng.lat(),lng:e.latLng.lng()});var waypoints=markers.map(function(p){return{location:{lat:p.lat,lng:p.lng},stopover:true};});if(waypoints.length>=2){var _origin2=waypoints[0].location;var destination=waypoints.pop().location;service.route({origin:_origin2,destination:destination,travelMode:google.maps.TravelMode.WALKING,waypoints:waypoints},function(result,status){if(status===google.maps.DirectionsStatus.OK){setState({directions:result});}else{console.error(\"error fetching directions \".concat(result));}});}};/* const onMarkerClick = (e,index) => { \n     console.log(index);\n     markers[index] = {...markers[index],lat: e.latLng.lat(), lng:e.latLng.lng(),active:true}\n     console.log(markers[index].active)\n   };*/var onInfoClose=function onInfoClose(e,index){selected[index]=_objectSpread(_objectSpread({},selected[index]),{},{lat:selected[index].lat,lng:selected[index].lng,active:false});};//const origin = markers[0];\n//const destination = markers[markers.length-1];\nvar waypoints=markers.map(function(p){return{location:{lat:p.lat,lng:p.lng},stopover:true};});if(waypoints.length>=2){var _origin3=waypoints[0].location;var destination=waypoints.pop().location;service.route({origin:_origin3,destination:destination,travelMode:google.maps.TravelMode.WALKING,waypoints:waypoints},function(result,status){if(status===google.maps.DirectionsStatus.OK){setState({directions:result});}else{console.error(\"error fetching directions \".concat(result));}});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Modal,{className:\"modal\",show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Event successfully created!\"})}),/*#__PURE__*/_jsx(Modal.Body,{}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleClose,children:\"Close\"})})]}),/*#__PURE__*/_jsx(LocateMDBtn,{children:/*#__PURE__*/_jsx(LocateMBtn,{className:\"locate\",onClick:function onClick(){navigator.geolocation.getCurrentPosition(function(position){panTo({lat:position.coords.latitude,lng:position.coords.longitude});},function(){return null;});},children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-compass fa-2x\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"originImg\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-marker-alt fa-2x\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"origin\",children:/*#__PURE__*/_jsxs(Combobox,{onSelect:handleSelect,children:[/*#__PURE__*/_jsx(ComboboxInput,{value:value,onChange:handleInput,disabled:!ready,placeholder:\"Location\"}),/*#__PURE__*/_jsx(ComboboxPopover,{children:/*#__PURE__*/_jsx(ComboboxList,{children:status===\"OK\"&&data.map(function(_ref3){var id=_ref3.id,description=_ref3.description;return/*#__PURE__*/_jsx(ComboboxOption,{value:description},id);})})})]})}),/*#__PURE__*/_jsxs(GoogleMap,{id:\"map\",mapContainerStyle:mapContainerStyle,zoom:8,center:center,onClick:onMapClick,onLoad:onMapLoad,children:[markers.map(function(marker,index){return/*#__PURE__*/_jsx(Marker,{position:{lat:marker.lat,lng:marker.lng},draggable:true,onDragEnd:function onDragEnd(e){return onMarkerDragEnd(e,index);},onClick:function onClick(e){return onMarkerClick(e,index);}},index);}),selected.map(function(select,index){return select.active?/*#__PURE__*/_jsx(InfoWindow,{position:{lat:select.lat,lng:select.lng},onCloseClick:function onCloseClick(e){return onInfoClose(e,index);},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"bear\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-hands-helping\"})}),\" \",\"Paragem na Rota\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Escolhido \",select.lat,\" , \",select.lng]})]})}):null;}),\";\",/*#__PURE__*/_jsx(DirectionsRenderer,{directions:state.directions,options:{suppressMarkers:true}})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"details\",onSubmit:handleContinue,children:[/*#__PURE__*/_jsx(\"div\",{className:\"nameImg\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-signature fa-2x\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"name\",children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"Events Name\",type:\"text\",name:\"eventsName\",noValidate:true,onChange:function onChange(e){return setEventsName(e.target.value);}// values = {values}\n})}),/*#__PURE__*/_jsx(\"div\",{className:\"timeImg\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-hourglass-half fa-2x\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"time\",children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"Duration\",type:\"time\",name:\"time\",noValidate:true,onChange:function onChange(e){return setTime(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"OImg\",children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-dot-circle fa-2x\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"orig\",children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"Event Location Beginning\",type:\"text\",name:\"origin\",noValidate:true,onChange:function onChange(e){return setOrigin(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"Ocalendar\",children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-calendar-alt fa-2x\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"date\",children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"Event Date\",type:\"datetime-local\",name:\"date\",noValidate:true,onChange:function onChange(e){return setDate(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"DesImg\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-signature fa-2x\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"textArea\",children:/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",placeholder:\"Event Descriprion\",onChange:function onChange(e){return setDescription(e.target.value);}})}),/*#__PURE__*/_jsx(MDBtn,{children:/*#__PURE__*/_jsx(MBtn,{type:\"submit\",onClick:handleOpen,children:\"Create Event\"})})]})]});};export default CreateEvents;","map":{"version":3,"sources":["/Users/goncalomoura/Documents/verFinal/Fight4Change_Alfa/web/src/Components/Maps/Details.js"],"names":["React","useState","MDBtn","MBtn","GoogleMap","Marker","InfoWindow","DirectionsRenderer","usePlacesAutocomplete","getGeocode","getLatLng","Combobox","ComboboxInput","ComboboxPopover","ComboboxList","ComboboxOption","LocateMDBtn","LocateMBtn","useHistory","Button","Modal","BtnLinkRedirect","BtnRedirect","mapContainerStyle","height","width","center","lat","lng","CreateEvents","history","eventsName","setEventsName","date","setDate","time","setTime","origin","setOrigin","description","setDescription","show","setShow","handleClose","url","push","handleOpen","console","log","directions","state","setState","markers","setMarkers","selected","setSelected","coordinates","map","p","coord","JSON","stringify","handleContinue","e","preventDefault","request","method","headers","localStorage","getItem","body","fetch","then","response","ok","catch","error","service","google","maps","DirectionsService","onMapClick","useCallback","current","latLng","onMarkerClick","active","mapRef","useRef","onMapLoad","panTo","setZoom","requestOptions","location","radius","ready","value","suggestions","status","data","setValue","clearSuggestions","handleInput","target","handleSelect","address","results","waypoints","stopover","length","destination","pop","route","travelMode","TravelMode","WALKING","result","DirectionsStatus","OK","onMarkerDragEnd","index","onInfoClose","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","id","marker","select","suppressMarkers"],"mappings":"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","sourcesContent":["/*global google*/\nimport React,{useState} from 'react'\nimport \"./map.css\";\nimport { MDBtn, MBtn } from './Button'\nimport { GoogleMap, Marker, InfoWindow, DirectionsRenderer } from \"@react-google-maps/api\";\nimport usePlacesAutocomplete, { getGeocode, getLatLng } from \"use-places-autocomplete\";\nimport { Combobox, ComboboxInput, ComboboxPopover, ComboboxList, ComboboxOption } from \"@reach/combobox\";\nimport \"@reach/combobox/styles.css\";\nimport { LocateMDBtn, LocateMBtn } from './LocateButton'\nimport { useHistory } from \"react-router-dom\";\n\n\nimport { Button } from '@material-ui/core';\nimport Modal from 'react-bootstrap/Modal'\nimport { BtnLinkRedirect,BtnRedirect } from './redirect';\n\n\n\n\n\nconst mapContainerStyle = {\n  height: \"80vh\",\n  width: \"50%\",\n};\n\nconst center = {\n  lat: 38.660783,\n  lng: -9.205681,\n};\n\n\nfunction CreateEvents() {\n\n let history = useHistory();\n const[eventsName, setEventsName] = useState();\n const[date, setDate] = useState();\n const[time, setTime] = useState();\n const[origin, setOrigin] = useState();\n const[description, setDescription] = useState();\n\n\n const[show,setShow] = useState(false);\n\n const handleClose = () => {setShow(false);  \nlet url =\"/home\";\n history.push(url);}\n\n const handleOpen=()=>{console.log(\"entrei aqui\");setShow(true); console.log(show)}\n\n \n\n  const [state, setState] = React.useState({directions:null});\n\n/*\n  const handleChange = React.useCallback((e) => {\n    const value = e.target.value;\n    setState({\n        [e.target.name]: value\n    });\n    console.log(e.target.value)\n  })*/\n  const [markers, setMarkers] = useState([]);\n  const [selected, setSelected] = useState([]);\n\n  const coordinates = markers.map(p=>( { lat: p.lat, lng: p.lng }));\n  const coord = JSON.stringify(coordinates);\n\n  const handleContinue = e => {\n    e.preventDefault();\n    const request = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem(\"user\") \n      },\n      body: JSON.stringify({\n        eventsName: eventsName,\n        date:date,\n        origin: origin,\n        description:description,\n        time: time,\n        markers:coord\n      })\n    };\n    fetch('https://apdc-fasebeta.appspot.com/createEvent', request)\n    .then( response => {\n     \n        console.log(request.headers)\n        console.log(\"mudei1\")\n        console.log(request.body)\n        console.log(\"response\" + response)\n        if (response.ok) {\n          console.log(\"Event successfully created alterado2!\");\n          setShow(true);\n          console.log(\"no continue: \" +  show);          \n        }\n        else {\n          console.log(\"Something went wrong.\");\n        //  this.setShow(false);\n          console.log(show);\n          let url =\"/createEvent\";\n          history.push(url);\n\n        }\n      }).catch(error => console.error('Error', error))\n  };\n\n\n\n\n \n  var service = new google.maps.DirectionsService();\n\n  \n\n  const onMapClick = React.useCallback((e) => {\n    setMarkers((current) => [\n      ...current,\n      {\n        lat: e.latLng.lat(),\n        lng: e.latLng.lng(),\n\n      },\n    ]);\n  }, []);\n\n  const onMarkerClick = React.useCallback((e) => {\n    setSelected((current) => [\n      ...current, {\n\n        lat: e.latLng.lat(),\n        lng: e.latLng.lng(),\n        active: true,\n      }\n    ])\n\n\n  },[])\n\n\n  const mapRef = React.useRef();\n  const onMapLoad = React.useCallback((map) => {\n    mapRef.current = map;\n  }, []);\n\n  const panTo = React.useCallback(({ lat, lng }) => {\n    mapRef.current.panTo({ lat, lng });\n    mapRef.current.setZoom(20);\n  }, []);\n\n  const {\n    ready,\n    value,\n    suggestions: { status, data },\n    setValue,\n    clearSuggestions,\n  } = usePlacesAutocomplete({\n    requestOptions: {\n      location: { lat: () => 38.660783, lng: () => -9.205681 },\n      radius: 100 * 1000,\n    },\n  });\n\n  const handleInput = (e) => {\n    setValue(e.target.value);\n  };\n\n  const handleSelect = async (address) => {\n    setValue(address, false);\n    clearSuggestions();\n\n    try {\n      const results = await getGeocode({ address });\n      \n      const { lat, lng } = await getLatLng(results[0]);\n      panTo({ lat, lng });\n      setMarkers((current) => [\n        ...current,\n        {\n          lat: lat,\n          lng: lng,\n\n        },\n      ]);\n      const waypoints = markers.map(p => ({\n        location: { lat: p.lat, lng: p.lng },\n        stopover: true\n      }))\n    \n      \n      if (waypoints.length >= 2) {\n        const origin = waypoints[0].location;\n        const destination = waypoints.pop().location;\n        \n    \n        service.route(\n    \n          {\n            origin: origin,\n            destination: destination,\n            travelMode: google.maps.TravelMode.WALKING,\n            waypoints: waypoints\n          },\n          (result, status) => {\n            if (status === google.maps.DirectionsStatus.OK) {\n              setState({\n                directions: result\n              }); \n            } else {\n              console.error(`error fetching directions ${result}`);\n            }\n          }\n    \n        )\n      }\n     \n    } catch (error) {\n      console.log(\"Error: \", error);\n    }\n  };\n\n  const onMarkerDragEnd = (e, index) => {\n   \n    markers[index] = { ...markers[index], lat: e.latLng.lat(), lng: e.latLng.lng() }\n\n    const waypoints = markers.map(p => ({\n      location: { lat: p.lat, lng: p.lng },\n      stopover: true\n    }))\n  \n    \n    if (waypoints.length >= 2) {\n      const origin = waypoints[0].location;\n      const destination = waypoints.pop().location;\n      service.route(\n        {\n          origin: origin,\n          destination: destination,\n          travelMode: google.maps.TravelMode.WALKING,\n          waypoints: waypoints\n        },\n        (result, status) => {\n          if (status === google.maps.DirectionsStatus.OK) {\n            \n            setState({\n              directions: result\n            });\n          } else {\n            console.error(`error fetching directions ${result}`);\n          }\n        }\n  \n      )\n    }\n  \n\n\n  };\n  /* const onMarkerClick = (e,index) => { \n     console.log(index);\n     markers[index] = {...markers[index],lat: e.latLng.lat(), lng:e.latLng.lng(),active:true}\n     console.log(markers[index].active)\n   };*/\n  const onInfoClose = (e, index) => {\n    selected[index] = { ...selected[index], lat: selected[index].lat, lng: selected[index].lng, active: false }\n  }\n\n  \n\n\n  //const origin = markers[0];\n  //const destination = markers[markers.length-1];\n\n\n  const waypoints = markers.map(p => ({\n    location: { lat: p.lat, lng: p.lng },\n    stopover: true\n  }))\n\n \n  if (waypoints.length >= 2) {\n    const origin = waypoints[0].location;\n    const destination = waypoints.pop().location;\n\n    service.route(\n\n      {\n        origin: origin,\n        destination: destination,\n        travelMode: google.maps.TravelMode.WALKING,\n        waypoints: waypoints\n      },\n      (result, status) => {\n        if (status === google.maps.DirectionsStatus.OK) {\n          \n          setState({\n            directions: result\n          });\n        } else {\n          console.error(`error fetching directions ${result}`);\n        }\n      }\n\n    )\n  }\n\n  return (\n\n    <>\n        <Modal className=\"modal\" show={show} onHide={handleClose}>\n            <Modal.Header>\n              <Modal.Title>Event successfully created!</Modal.Title>\n            </Modal.Header>\n            <Modal.Body></Modal.Body>\n            <Modal.Footer>\n              <Button variant=\"primary\" onClick={handleClose}>\n                Close\n              </Button>\n            </Modal.Footer>\n          </Modal>\n      <LocateMDBtn>\n        <LocateMBtn\n          className=\"locate\"\n          onClick={() => {\n            navigator.geolocation.getCurrentPosition(\n              (position) => {\n                panTo({\n                  lat: position.coords.latitude,\n                  lng: position.coords.longitude,\n                });\n              },\n              () => null\n            );\n          }}\n        >\n          <i className=\"far fa-compass fa-2x\"></i>\n        </LocateMBtn>\n      </LocateMDBtn>\n\n\n      <div className=\"originImg\"><i className=\"fas fa-map-marker-alt fa-2x\"></i></div>\n      <div className=\"origin\">\n        <Combobox onSelect={handleSelect}>\n          <ComboboxInput\n            value={value}\n            onChange={handleInput}\n            disabled={!ready}\n            placeholder=\"Location\"\n          />\n          <ComboboxPopover>\n            <ComboboxList>\n              {status === \"OK\" &&\n                data.map(({ id, description }) => (\n                  <ComboboxOption key={id} value={description} />\n                ))}\n            </ComboboxList>\n          </ComboboxPopover>\n        </Combobox>\n\n      </div>\n\n\n      <GoogleMap\n        id=\"map\"\n        mapContainerStyle={mapContainerStyle}\n        zoom={8}\n        center={center}\n        onClick={onMapClick}\n        onLoad={onMapLoad}\n      >\n\n        {markers.map((marker, index) => (\n          <Marker\n            key={index}\n            position={{ lat: marker.lat, lng: marker.lng }}\n            draggable={true}\n            onDragEnd={(e) => onMarkerDragEnd(e, index)}\n            onClick={(e) => onMarkerClick(e, index)}\n          />\n        ))}\n\n        {selected.map((select, index) => (select.active ? (\n\n          <InfoWindow\n            position={{ lat: select.lat, lng: select.lng }}\n            onCloseClick={(e) => onInfoClose(e, index)}\n          >\n            <div>\n              <h2>\n                <span role=\"img\" aria-label=\"bear\">\n                  <i className=\"fas fa-hands-helping\"></i>\n                </span>{\" \"}\n                Paragem na Rota\n              </h2>\n              <p>Escolhido {select.lat} , {select.lng}</p>\n            </div>\n          </InfoWindow>\n        ) : null))};\n            \n            <DirectionsRenderer directions={state.directions}  options={{\n           \n              suppressMarkers: true\n    \n            }} ></DirectionsRenderer>\n            \n      </GoogleMap>\n\n\n\n\n      <form className=\"details\" onSubmit={handleContinue}>\n        <div className=\"nameImg\"><i className=\"fas fa-signature fa-2x\"></i></div>\n        <div className=\"name\">\n          <input\n            placeholder=\"Events Name\"\n            type=\"text\"\n            name=\"eventsName\"\n            noValidate\n            onChange={e=>setEventsName(e.target.value)}\n          // values = {values}\n          />\n        </div>\n        <div className=\"timeImg\"><i className=\"fas fa-hourglass-half fa-2x\"></i></div>\n        <div className=\"time\">\n          <input\n            placeholder=\"Duration\"\n            type=\"time\"\n            name=\"time\"\n            noValidate\n            onChange={e => setTime(e.target.value)}\n          />\n        </div>\n        <div className=\"OImg\"><i className=\"far fa-dot-circle fa-2x\"></i></div>\n        <div className=\"orig\">\n          <input\n            placeholder=\"Event Location Beginning\"\n            type=\"text\"\n            name=\"origin\"\n            noValidate\n            onChange={e => setOrigin(e.target.value)}\n          />\n        </div>\n        <div className=\"Ocalendar\"><i className=\"far fa-calendar-alt fa-2x\"></i></div>\n        <div className=\"date\">\n          <input\n            placeholder=\"Event Date\"\n            type=\"datetime-local\"\n            name=\"date\"\n            noValidate\n            onChange={e => setDate(e.target.value)}\n          />\n        </div>\n       \n        <div className=\"DesImg\"><i className=\"fas fa-file-signature fa-2x\" ></i></div>\n        <div className=\"textArea\">\n          <textarea\n            name=\"description\"\n            placeholder=\"Event Descriprion\"\n            onChange={e => setDescription(e.target.value)}\n\n          /></div>\n        <MDBtn>\n          <MBtn type='submit'  onClick={handleOpen} >Create Event</MBtn>\n        </MDBtn>\n      </form>\n\n    \n     \n            \n      \n    </>\n  )\n};\n\nexport default CreateEvents\n\n"]},"metadata":{},"sourceType":"module"}