{"ast":null,"code":"var _jsxFileName = \"/Users/goncalomoura/Desktop/Fight4Change_Alfa/web/src/Components/Login/LoginForm.js\";\nimport React, { Component } from 'react'; //import Axios from 'axios';\n\nimport '../SignUpForm/Form.css';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst formValid = rest => {\n  let valid = true;\n\n  if (rest.email.length === 0 && rest.password.length === 0) {\n    valid = false;\n  }\n\n  console.log(valid);\n  return valid;\n};\n\nexport class LoginForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false\n    };\n\n    this.continue = e => {\n      e.preventDefault();\n      const request = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          userId: this.props.values.email,\n          password: this.props.values.password\n        })\n      };\n      this.setState({\n        loading: true\n      });\n      fetch('https://apdc-fasebeta.appspot.com/login', request).then(response => response.json()).then(response => {\n        console.log(response);\n\n        if (response != null) {\n          if (formValid(this.props.values)) {\n            this.props.nextStep();\n          }\n\n          localStorage.setItem('user', this.props.values.email);\n          console.log(this.props.values.email);\n          console.log(response);\n        } else {\n          console.log(\"Something went wrong\");\n          console.log(response);\n        }\n\n        setTimeout(() => {\n          this.setState({\n            loading: false\n          });\n        }, 30000);\n      });\n    };\n  }\n\n  render() {\n    const {\n      values,\n      handleChange\n    } = this.props;\n    const {\n      loading\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-content-right\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form\",\n        onSubmit: this.continue,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-input\",\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Enter your email\",\n            onChange: handleChange('email'),\n            defaultValue: values.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), this.props.values.email.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"p\",\n            children: \"Email required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 66\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-input\",\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Enter your password\",\n            onChange: handleChange('password'),\n            defaultValue: values.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this), this.props.values.password.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"p\",\n            children: \"Password required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 69\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"form-input1-btn\",\n          label: \"Confirm\",\n          type: \"submit\",\n          disabled: loading,\n          children: [!loading && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Confirm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 38\n          }, this), loading && /*#__PURE__*/_jsxDEV(CircularProgress, {\n            className: \"buttonProgress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), (this.props.values.email.length === 0 || this.props.values.password.length === 0) && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"p\",\n          children: \"Please fill the missing entries\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 108\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"form-input-login\",\n          children: [\"Don't have an account? Signup \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/signup\",\n            children: \"here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 55\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nexport default LoginForm;","map":{"version":3,"sources":["/Users/goncalomoura/Desktop/Fight4Change_Alfa/web/src/Components/Login/LoginForm.js"],"names":["React","Component","CircularProgress","formValid","rest","valid","email","length","password","console","log","LoginForm","state","loading","continue","e","preventDefault","request","method","headers","body","JSON","stringify","userId","props","values","setState","fetch","then","response","json","nextStep","localStorage","setItem","setTimeout","render","handleChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n//import Axios from 'axios';\nimport '../SignUpForm/Form.css';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst formValid = rest => {\n    let valid = true;\n\n    if (rest.email.length === 0 && rest.password.length === 0) {\n        valid = false;\n    }\n\n    console.log(valid);\n\n    return valid;\n}\n\nexport class LoginForm extends Component {\n\n    state = {\n        loading: false\n    }\n\n\n    continue = e => {\n        e.preventDefault();\n\n        const request = {\n            method: 'POST',\n\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n\n                userId: this.props.values.email,\n\n                password: this.props.values.password\n\n            })\n        };\n        this.setState({ loading: true });\n        fetch('https://apdc-fasebeta.appspot.com/login', request).then(response =>response.json())\n            .then(response => {\n                console.log(response)\n                if (response!=null) {\n                    if (formValid(this.props.values)) {\n                        this.props.nextStep();\n                    }\n\n                    localStorage.setItem('user', this.props.values.email);\n                    console.log(this.props.values.email);\n                   \n                    console.log(response)\n                    \n                    \n                }\n                else {\n                    console.log(\"Something went wrong\")\n                    console.log(response)\n                }\n                setTimeout(() => {\n                    this.setState({ loading: false });\n                }, 30000)\n\n            })\n    };\n\n    render() {\n        const { values, handleChange } = this.props;\n        const { loading } = this.state;\n\n        return (\n\n            <div className='form-content-right'>\n                <form className='form' onSubmit={this.continue}>\n\n                    <div className='form-inputs'>\n                        <label className='form-label'>Email</label>\n                        <input\n                            className='form-input'\n                            type='email'\n                            name='email'\n                            placeholder='Enter your email'\n                            onChange={handleChange('email')}\n                            defaultValue={values.email}\n                        />\n                        {this.props.values.email.length === 0 && <p className=\"p\">Email required</p>}\n                    </div>\n\n                    <div className='form-inputs'>\n                        <label className='form-label'>Password</label>\n                        <input\n                            className='form-input'\n                            type='password'\n                            name='password'\n                            placeholder='Enter your password'\n                            onChange={handleChange('password')}\n                            defaultValue={values.password}\n                        />\n                        {this.props.values.password.length === 0 && <p className=\"p\">Password required</p>}\n                    </div>\n\n                    <button className='form-input1-btn' label='Confirm' type='submit' disabled={loading}>\n                        {!loading && <span>Confirm</span>}\n                        {loading && <CircularProgress className=\"buttonProgress\" />}\n                    </button>\n\n                    {(this.props.values.email.length === 0 || this.props.values.password.length === 0) && (<p className=\"p\">Please fill the missing entries</p>)}\n\n                    <span className='form-input-login'>\n                        Don't have an account? Signup <a href='/signup'>here</a>\n                    </span>\n                </form>\n            </div>\n        );\n    }\n\n}\n\n\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}