{"ast":null,"code":"import _slicedToArray from\"C:/Users/mifer/Desktop/Fight4Change_Alfa/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ListEvents(){var url='https://apdc-fasebeta.appspot.com/rest/events/list';var _useState=useState([]),_useState2=_slicedToArray(_useState,2),filteredEvents=_useState2[0],setFilteredEvents=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState({loading:false,data:null,error:false}),_useState6=_slicedToArray(_useState5,2),events=_useState6[0],setEvents=_useState6[1];useEffect(function(){setEvents({loading:true,data:null,error:false});axios.get(url).then(function(response){setEvents({loading:false,data:response.data,error:false});}).catch(function(){setEvents({loading:false,data:null,error:true});});},[url]);var content=null;if(events.error){console.log(\"There was an error, please refresh or try again later.\");content=/*#__PURE__*/_jsx(\"p\",{children:\"There was an error, please refresh or try again later.\"});}/*\r\n        if (events.loading) {\r\n            content = <Loader></Loader>\r\n        }\r\n    */if(events.data){content=events.data.map(function(event,key){return/*#__PURE__*/_jsx(\"div\",{children:event.name});});}/*\r\n    useEffect(() => {\r\n        setFilteredEvents(\r\n            events.filter(event => {\r\n                event.name.toLowerCase().includes(search.toLowerCase())\r\n            })        )\r\n    }, [search, events])\r\n    \r\n*/return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search\",onChange:function onChange(e){return setSearch(e.target.value);}})}),content]});}","map":{"version":3,"sources":["C:/Users/mifer/Desktop/Fight4Change_Alfa/web/src/Components/JoinEventsComp/listEvents.js"],"names":["React","useEffect","useState","axios","ListEvents","url","filteredEvents","setFilteredEvents","search","setSearch","loading","data","error","events","setEvents","get","then","response","catch","content","console","log","map","event","key","name","e","target","value"],"mappings":"mKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,cAAe,SAASC,CAAAA,UAAT,EAAsB,CAEjC,GAAMC,CAAAA,GAAG,CAAG,oDAAZ,CAEA,cAA4CH,QAAQ,CAAC,EAAD,CAApD,wCAAOI,cAAP,eAAuBC,iBAAvB,eACA,eAA4BL,QAAQ,CAAC,EAAD,CAApC,yCAAOM,MAAP,eAAeC,SAAf,eACA,eAA4BP,QAAQ,CAAC,CACjCQ,OAAO,CAAE,KADwB,CAEjCC,IAAI,CAAE,IAF2B,CAGjCC,KAAK,CAAE,KAH0B,CAAD,CAApC,yCAAOC,MAAP,eAAeC,SAAf,eAMAb,SAAS,CAAC,UAAM,CACZa,SAAS,CAAC,CACNJ,OAAO,CAAE,IADH,CAENC,IAAI,CAAE,IAFA,CAGNC,KAAK,CAAE,KAHD,CAAD,CAAT,CAMAT,KAAK,CAACY,GAAN,CAAUV,GAAV,EACKW,IADL,CACU,SAAAC,QAAQ,CAAI,CACdH,SAAS,CAAC,CACNJ,OAAO,CAAE,KADH,CAENC,IAAI,CAAEM,QAAQ,CAACN,IAFT,CAGNC,KAAK,CAAE,KAHD,CAAD,CAAT,CAKH,CAPL,EAQKM,KARL,CAQW,UAAM,CACTJ,SAAS,CAAC,CACNJ,OAAO,CAAE,KADH,CAENC,IAAI,CAAE,IAFA,CAGNC,KAAK,CAAE,IAHD,CAAD,CAAT,CAKH,CAdL,EAeH,CAtBQ,CAsBN,CAACP,GAAD,CAtBM,CAAT,CAwBA,GAAIc,CAAAA,OAAO,CAAG,IAAd,CAEA,GAAIN,MAAM,CAACD,KAAX,CAAkB,CACdQ,OAAO,CAACC,GAAR,CAAY,wDAAZ,EACAF,OAAO,cAAG,6EAAV,CAGH,CACD;AACJ;AACA;AACA;AACA,MAGI,GAAIN,MAAM,CAACF,IAAX,CAAiB,CACbQ,OAAO,CACHN,MAAM,CAACF,IAAP,CAAYW,GAAZ,CAAgB,SAACC,KAAD,CAAQC,GAAR,qBACZ,qBACKD,KAAK,CAACE,IADX,EADY,EAAhB,CADJ,CAMH,CAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EACI,mBACI,oCACI,kCACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,QAA/B,CAAwC,QAAQ,CAAE,kBAAAC,CAAC,QAAIjB,CAAAA,SAAS,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAAnD,EADJ,EADJ,CAIKT,OAJL,GADJ,CAQH","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function ListEvents() {\r\n\r\n    const url = 'https://apdc-fasebeta.appspot.com/rest/events/list'\r\n\r\n    const [filteredEvents, setFilteredEvents] = useState([])\r\n    const [search, setSearch] = useState('')\r\n    const [events, setEvents] = useState({\r\n        loading: false,\r\n        data: null,\r\n        error: false\r\n    })\r\n\r\n    useEffect(() => {\r\n        setEvents({\r\n            loading: true,\r\n            data: null,\r\n            error: false\r\n        })\r\n\r\n        axios.get(url)\r\n            .then(response => {\r\n                setEvents({\r\n                    loading: false,\r\n                    data: response.data,\r\n                    error: false\r\n                })\r\n            })\r\n            .catch(() => {\r\n                setEvents({\r\n                    loading: false,\r\n                    data: null,\r\n                    error: true\r\n                })\r\n            })\r\n    }, [url])\r\n\r\n    let content = null\r\n\r\n    if (events.error) {\r\n        console.log(\"There was an error, please refresh or try again later.\");\r\n        content = <p>\r\n            There was an error, please refresh or try again later.\r\n        </p>\r\n    }\r\n    /*\r\n        if (events.loading) {\r\n            content = <Loader></Loader>\r\n        }\r\n    */\r\n\r\n\r\n    if (events.data) {\r\n        content =\r\n            events.data.map((event, key) =>\r\n                <div >\r\n                    {event.name}\r\n                </div>\r\n            )\r\n    }\r\n\r\n    /*\r\n    useEffect(() => {\r\n        setFilteredEvents(\r\n            events.filter(event => {\r\n                event.name.toLowerCase().includes(search.toLowerCase())\r\n            })        )\r\n    }, [search, events])\r\n    \r\n*/\r\n    return (\r\n        <div>\r\n            <div>\r\n                <input type=\"text\" placeholder=\"Search\" onChange={e => setSearch(e.target.value)} />\r\n            </div>\r\n            {content}\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}